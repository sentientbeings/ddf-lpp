/* this file contains all the stuff dealing with the computer player */#include "computer.h"#include "computerP.h"/* this is a pretty simple kluge. we make an offer to 1/10 of our league + 0 - 3	*//* other cities. We decide on cities by their transportation distance plus how		*//* valuable they are to us in terms of goods										*/void DoComputerTurn(){	short thisLeague, base, i, numberOfTargets, minimum;	Boolean possibleTarget[maxNumberOfCities];		thisLeague = GetCurrentPlayer();	numberOfTargets = 0;	base = (NumberOfCitiesInLeague(thisLeague) / 10) + Randomize(4);	for (i = 0; i < maxNumberOfCities; i++)		possibleTarget[i] = false;	minimum = 0;	while (numberOfTargets == 0) {		minimum += 50;		for (i = 0; i < maxNumberOfCities; i++)			if ((!CityInLeague(i) && nearestLeagueCity(i, false) <= minimum)) {				numberOfTargets++;				possibleTarget[i] = true;			}	}	if (numberOfTargets > maxNumberOfCities - NumberOfCitiesInLeague(thisLeague))		numberOfTargets = maxNumberOfCities - NumberOfCitiesInLeague(thisLeague);	if (numberOfTargets > base)		numberOfTargets = base;	while (numberOfTargets != 0)		if (possibleTarget[i = Randomize(maxNumberOfCities)]) {			SetOfferLevel(i, nearestLeagueCity(i, true), base / 10.0);			possibleTarget[i] = false;			numberOfTargets--;			}	DoEndTurn();}short nearestLeagueCity(cityToCheck, returnCity)short cityToCheck;Boolean returnCity;{	short distance, i, city;	enum goodTypes good;		distance = 5000;	city = cityToCheck;	for (i = 0; i < maxNumberOfCities; i++)		if (CityInLeague(i))			for (good = wheat; good < numberOfGoods; good++)				if ((GetProductionCost(i, good) != 0) && (GetTransportCosts(cityToCheck, i, good) < distance)) {					distance = GetTransportCosts(cityToCheck, i, good);					city = i;				}	if (returnCity)		return city;	else return distance;}