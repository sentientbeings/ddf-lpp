/* this file contains the code to add rivers */#include "addterrain.h"#include "addterrainP.h"void AddRiver(hex)Point hex;{	Point SFPwhere;	SFReply reply;	unsigned startType;	SFPwhere.h = 90;	SFPwhere.v = 82;	SFPutFile(SFPwhere, "\priverType", rfn, 0L, &reply);	if (reply.good) {		startType = GetRiverType(hex.h, hex.v, same);		if (EqualString(reply.fName, "\pni", false, false))			SetRiverType(hex.h, hex.v, same, startType | northIn);		else if (EqualString(reply.fName, "\pnei", false, false))			SetRiverType(hex.h, hex.v, same, startType | northeastIn);		else if (EqualString(reply.fName, "\psei", false, false))			SetRiverType(hex.h, hex.v, same, startType | southeastIn);		else if (EqualString(reply.fName, "\psi", false, false))			SetRiverType(hex.h, hex.v, same, startType | southIn);		else if (EqualString(reply.fName, "\pswi", false, false))			SetRiverType(hex.h, hex.v, same, startType | southwestIn);		else if (EqualString(reply.fName, "\pnwi", false, false))			SetRiverType(hex.h, hex.v, same, startType | northwestIn);		else if (EqualString(reply.fName, "\pno", false, false))			SetRiverType(hex.h, hex.v, same, startType | northOut);		else if (EqualString(reply.fName, "\pneo", false, false))			SetRiverType(hex.h, hex.v, same, startType | northeastOut);		else if (EqualString(reply.fName, "\pseo", false, false))			SetRiverType(hex.h, hex.v, same, startType | southeastOut);		else if (EqualString(reply.fName, "\pso", false, false))			SetRiverType(hex.h, hex.v, same, startType | southOut);		else if (EqualString(reply.fName, "\pswo", false, false))			SetRiverType(hex.h, hex.v, same, startType | southwestOut);		else if (EqualString(reply.fName, "\pnwo", false, false))			SetRiverType(hex.h, hex.v, same, startType | northwestOut);		else SetRiverType(hex.h, hex.v, same, noCoast);			if (GetRiverType(hex.h, hex.v, same) != startType)			pStrCopy((char *)reply.fName, (char *) rfn);	}	UpdateWindow(GetMapWindow());}